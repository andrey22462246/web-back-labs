{% extends "base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 9{% endblock %}

{% block script %}
<script src="{{ url_for('static', filename='lab9/lab9.js') }}" defer></script>
<link rel="stylesheet" href="{{ url_for('static', filename='lab9/lab9.css') }}">
<style>
    :root {
        --new-year-red: #d32f2f;
        --new-year-green: #2e7d32;
        --new-year-gold: #ffd700;
        --new-year-blue: #1565c0;
    }
    
    /* –ö–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ */
    .gift-box img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.3s;
    }
    
    .gift-box:hover img {
        transform: scale(1.1);
    }
    
    .gift-box.opened img {
        filter: grayscale(100%) brightness(70%);
        opacity: 0.7;
    }
</style>
{% endblock %}

{% block main %}
<div class="new-year-container">
    <!-- –°–Ω–µ–∂–∏–Ω–∫–∏ -->
    <div class="snowflakes" aria-hidden="true">
        {% for i in range(50) %}
        <div class="snowflake">‚ùÑ</div>
        {% endfor %}
    </div>
    
    <!-- –®–∞–ø–∫–∞ -->
    <header class="new-year-header">
        <h1>üéÑ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –ü–æ–¥–∞—Ä–∫–∏ 2025 üéÑ</h1>
        <p class="subtitle">–ù–∞–π–¥–∏ —Å–≤–æ–∏ –ø–æ–¥–∞—Ä–∫–∏ –ø–æ–¥ —ë–ª–∫–æ–π!</p>
    </header>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="info-panel">
        <div class="stats">
            <div class="stat-item">
                <span class="stat-icon">üéÅ</span>
                <div>
                    <div class="stat-label">–û—Ç–∫—Ä—ã—Ç–æ</div>
                    <div class="stat-value" id="opened-count">0/3</div>
                </div>
            </div>
            <div class="stat-item">
                <span class="stat-icon">üì¶</span>
                <div>
                    <div class="stat-label">–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–¥–∞—Ä–∫–æ–≤</div>
                    <div class="stat-value" id="remaining-count">10</div>
                </div>
            </div>
            <div class="stat-item">
                <span class="stat-icon">üéÖ</span>
                <div>
                    <div class="stat-label">–°—Ç–∞—Ç—É—Å</div>
                    <div class="stat-value" id="status">–ì–æ—Ç–æ–≤ –∫ –ø–æ–∏—Å–∫—É!</div>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã:</h3>
            <ul>
                <li>üéØ –ù–∞–π–¥–∏ –∏ –æ—Ç–∫—Ä–æ–π <strong>3 –ø–æ–¥–∞—Ä–∫–∞</strong> –∏–∑ 10</li>
                <li>üéÅ –í –∫–∞–∂–¥–æ–º –ø–æ–¥–∞—Ä–∫–µ - —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ</li>
                <li>‚ùÑÔ∏è –ü–æ–∑–∏—Ü–∏–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤ –≤–∞—à–µ–π —Å–µ—Å—Å–∏–∏</li>
                <li>üîÑ –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</li>
            </ul>
        </div>
    </div>
    
    <!-- –ü–æ–ª–µ —Å –ø–æ–¥–∞—Ä–∫–∞–º–∏ -->
    <div class="gifts-field" id="gifts-container">
        <!-- –ü–æ–¥–∞—Ä–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        <div class="tree-decoration">
            <div class="tree">üéÑ</div>
            <div class="lights">
                <span class="light red"></span>
                <span class="light blue"></span>
                <span class="light green"></span>
                <span class="light yellow"></span>
                <span class="light purple"></span>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="modal-overlay" id="congrat-modal" style="display: none;">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <div class="congrat-header">
                <h2>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ</h2>
            </div>
            <div class="congrat-body">
                <div class="gift-image-container">
                    <img id="congrat-gift-image" src="" alt="–ü–æ–¥–∞—Ä–æ–∫">
                    <div class="gift-name" id="congrat-gift-name"></div>
                </div>
                <div class="congrat-text" id="congrat-text"></div>
            </div>
            <div class="modal-footer">
                <button class="btn-continue" onclick="closeModal()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∏—Å–∫</button>
            </div>
        </div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ -->
    <div class="controls">
        <button class="btn-reset" onclick="resetGame()">
            <i class="fas fa-redo"></i> –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
        </button>
        <button class="btn-help" onclick="showHelp()">
            <i class="fas fa-question-circle"></i> –ü–æ–º–æ—â—å
        </button>
    </div>
    
    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ -->
    <div class="error-message" id="error-message" style="display: none;"></div>
</div>
{% endblock %}