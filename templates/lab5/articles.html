{% extends "lab5/base.html" %}

{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 5{% endblock %}

{% block main %}
<div class="articles-header">
    <h1>–ú–æ–∏ —Å—Ç–∞—Ç—å–∏</h1>
    <a href="{{ url_for('lab5.create') }}" class="btn btn-primary">–ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è</a>
</div>

{% if articles %}
    <div class="articles-list">
        {% for article in articles %}
        <div class="article-card {% if article.is_favorite %}favorite{% endif %}">
            <div class="article-header">
                <h2 class="article-title">{{ article.title }}</h2>
                <div class="article-controls">
                    <a href="{{ url_for('lab5.toggle_favorite', article_id=article.id) }}" 
                       class="btn btn-sm {% if article.is_favorite %}btn-warning{% else %}btn-outline{% endif %}">
                        {% if article.is_favorite %}‚òÖ{% else %}‚òÜ{% endif %}
                    </a>
                    <a href="{{ url_for('lab5.toggle_public', article_id=article.id) }}" 
                       class="btn btn-sm {% if article.is_public %}btn-success{% else %}btn-outline{% endif %}">
                        {% if article.is_public %}üåç{% else %}üîí{% endif %}
                    </a>
                    <a href="{{ url_for('lab5.edit_article', article_id=article.id) }}" class="btn btn-sm btn-edit">‚úèÔ∏è</a>
                    <a href="{{ url_for('lab5.delete_article', article_id=article.id) }}" class="btn btn-sm btn-delete" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é?')">üóëÔ∏è</a>
                </div>
            </div>
            <div class="article-content">
                <p>{{ article.article_text }}</p>
            </div>
            <div class="article-footer">
                <div class="article-status">
                    {% if article.is_favorite %}
                    <span class="favorite-badge">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
                    {% endif %}
                    {% if article.is_public %}
                    <span class="public-badge">üåç –ü—É–±–ª–∏—á–Ω–∞—è</span>
                    {% else %}
                    <span class="private-badge">üîí –ü—Ä–∏–≤–∞—Ç–Ω–∞—è</span>
                    {% endif %}
                </div>
                <span class="article-date">
                    {% if article.ts_public %}
                        –°–æ–∑–¥–∞–Ω–æ: {{ article.ts_public }}
                    {% else %}
                        –°–æ–∑–¥–∞–Ω–æ: –ù–µ–¥–∞–≤–Ω–æ
                    {% endif %}
                </span>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="no-articles">
        <h2>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç–∞—Ç–µ–π</h2>
        <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é —Å—Ç–∞—Ç—å—é!</p>
        <a href="{{ url_for('lab5.create') }}" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é</a>
    </div>
{% endif %}
{% endblock %}