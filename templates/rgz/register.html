{% extends "rgz/base_rgz.html" %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <h2 style="text-align: center; color: #2c3e50; margin-bottom: 30px;">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
    
    <form method="POST" action="{{ url_for('rgz.register') }}">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *</label>
                <input type="text" name="username" required 
                       style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                <small style="color: #7f8c8d;">–¢–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã (–æ—Ç 3 —Å–∏–º–≤–æ–ª–æ–≤)</small>
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">–ü–∞—Ä–æ–ª—å *</label>
                <input type="password" name="password" required
                       style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                <small style="color: #7f8c8d;">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</small>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">–ü–æ–ª–Ω–æ–µ –∏–º—è *</label>
                <input type="text" name="full_name" required
                       style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            
            <div>
                <label style="display: block; margin-bottom: 8px; font-weight: bold;">Email *</label>
                <input type="email" name="email" required
                       style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
                <small style="color: #7f8c8d;">–ë—É–¥–µ—Ç –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º</small>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: bold;">–í—ã–±–µ—Ä–∏—Ç–µ –∞–≤–∞—Ç–∞—Ä–∫—É (—ç–º–æ–¥–∂–∏)</label>
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                {% for emoji in emojis %}
                <label style="cursor: pointer;">
                    <input type="radio" name="avatar" value="{{ emoji }}" 
                           {% if loop.first %}checked{% endif %}
                           style="display: none;">
                    <div style="font-size: 2em; padding: 10px; border: 2px solid #ddd; border-radius: 50%; 
                               transition: all 0.3s; text-align: center; width: 50px; height: 50px;
                               display: flex; align-items: center; justify-content: center;">
                        {{ emoji }}
                    </div>
                </label>
                {% endfor %}
            </div>
            <input type="text" name="avatar_custom" 
                   style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"
                   placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —ç–º–æ–¥–∂–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: üê∂)">
            <small style="color: #7f8c8d;">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —ç–º–æ–¥–∂–∏ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π</small>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: bold;">–û —Å–µ–±–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
            <textarea name="about" rows="3"
                      style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px;"></textarea>
        </div>
        
        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #3498db;">
            <strong>üìã –ß—Ç–æ –¥–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è?</strong>
            <ul style="margin: 10px 0 0 20px; color: #7f8c8d;">
                <li>–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π</li>
                <li>–£–Ω–∏–∫–∞–ª—å–Ω–∞—è –∞–≤–∞—Ç–∞—Ä–∫–∞ —Ä—è–¥–æ–º —Å –≤–∞—à–∏–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏</li>
                <li>–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–∏—Ö –∞–≤—Ç–æ—Ä–æ–≤</li>
                <li>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π</li>
            </ul>
        </div>
        
        <button type="submit" 
                style="width: 100%; background: #2ecc71; color: white; padding: 12px; border: none; border-radius: 5px; font-size: 1.1em; cursor: pointer;">
            üìù –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
        </button>
    </form>
    
    <div style="text-align: center; margin-top: 30px;">
        <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="{{ url_for('rgz.login') }}">–í–æ–π–¥–∏—Ç–µ</a></p>
        <p><a href="{{ url_for('rgz.index') }}">‚Üê –ù–∞–∑–∞–¥ –∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º</a></p>
    </div>
</div>

<script>
    
    document.addEventListener('DOMContentLoaded', function() {
        const avatarInputs = document.querySelectorAll('input[name="avatar"]');
        const customAvatarInput = document.querySelector('input[name="avatar_custom"]');
        
        avatarInputs.forEach(input => {
            input.addEventListener('change', function() {
                
                document.querySelectorAll('label > div').forEach(div => {
                    div.style.borderColor = '#ddd';
                    div.style.backgroundColor = 'transparent';
                });
                
                
                const selectedDiv = this.parentElement.querySelector('div');
                selectedDiv.style.borderColor = '#3498db';
                selectedDiv.style.backgroundColor = '#e8f4fc';
                
                
                customAvatarInput.value = '';
            });
        });
        
        
        customAvatarInput.addEventListener('input', function() {
            avatarInputs.forEach(input => {
                input.checked = false;
                const div = input.parentElement.querySelector('div');
                div.style.borderColor = '#ddd';
                div.style.backgroundColor = 'transparent';
            });
        });
    });
</script>
{% endblock %}